---
title: 'Genkit MCP Server'
description: 'Integrate Genkit with MCP-aware IDEs and tools.'
---

import LanguageSelector from '../../../components/LanguageSelector.astro';
import CopyMarkdownButton from '../../../components/CopyMarkdownButton.astro';
import LanguageContent from '../../../components/LanguageContent.astro';
import { Tabs, TabItem } from '@astrojs/starlight/components';
import { Aside } from '@astrojs/starlight/components';

<CopyMarkdownButton />

The Genkit MCP (Model Context Protocol) Server enables seamless integration of your Genkit projects with various development environments and AI tools. By exposing Genkit functionalities through the Model Context Protocol, it allows LLM agents and IDEs to discover, interact with, and monitor your Genkit flows and other components.

<Aside type="caution" title="Experimental">
 The Genkit MCP server is an experimental feature and may change without notice.
</Aside>

## What is the MCP Server?

The Genkit MCP Server acts as a bridge between your Genkit application and external tools that understand the Model Context Protocol. This allows these tools to:

- **Discover Genkit flows:** Tools can list all available flows defined in your project, along with their input schemas, enabling them to understand how to call them.
- **Run Genkit flows:** External tools can execute your Genkit flows, providing inputs and receiving outputs.
- **Access trace details:** The server allows for retrieval and analysis of execution traces for your Genkit flows, providing insights into their performance and behavior.
- **Look up Genkit documentation:** Integrated tools can access Genkit documentation directly through the MCP server, aiding in development and debugging.

## Getting Started

To use the Genkit MCP Server, you first need to have the Genkit CLI installed. If you haven't already, install it globally:

```bash
npm install -g genkit-cli
```

:::note
The examples in this guide assume you have installed the Genkit CLI globally using `npm install -g genkit-cli`. If you have installed Genkit CLI locally in your project instead, you'll need to prefix all `genkit` commands with `npx` (e.g., use `npx genkit mcp` instead of `genkit mcp`).
:::

### Configuring the MCP Server

The Genkit MCP Server is typically configured within an MCP-aware IDE or tool. The configuration details often include:

- **`serverName`**: A unique name for the server (e.g., "genkit").
- **`command`**: The command to execute the MCP server (e.g., `genkit`).
- **`args`**: Arguments to pass to the command (e.g., `["mcp"]` to run the Genkit MCP server).
- **`cwd`**: The current working directory where the command should be executed.
- **`timeout`**: The maximum time (in milliseconds) the server is allowed to start.
- **`trust`**: A boolean indicating whether to automatically trust the server. Setting this to `true` allows tools to execute commands from this server without requiring explicit user confirmation for each action.

## Integration with AI Development Tools

<Tabs>
  <TabItem label="Gemini CLI">
    To integrate the Genkit MCP Server with the Gemini CLI, you can add a configuration entry to your `.gemini/settings.json` file. This file is typically located in your project root or your user's home directory.

    ```json
    {
      "mcpServers": {
        "genkit": {
          "command": "genkit",
          "args": ["mcp"],
          "cwd": "",
          "timeout": 30000,
          "trust": false
        }
      }
    }
    ```

    After adding this configuration, restart your Gemini CLI session for the changes to take effect. You can then interact with your Genkit flows and tools directly from the Gemini CLI.

    ### Video Tutorial

    Watch this video tutorial to see how to set up and use the Genkit MCP Server with the Gemini CLI:

    <div style="position: relative; width: 100%; max-width: 800px; margin: 2rem auto 0;">
      <div style="position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden;">
        <iframe
          src="https://www.youtube.com/embed/WKHKbiUe0K8"
          title="Using Genkit MCP Server with Gemini CLI"
          frameborder="0"
          allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
          allowfullscreen
          style="position: absolute; top: 0; left: 0; width: 100%; height: 100%;"
        ></iframe>
      </div>
    </div>

  </TabItem>

  <TabItem label="Cursor">
    Cursor AI IDE provides a built-in MCP client that supports an arbitrary number of MCP servers.

    To add the Genkit MCP Server in Cursor:

    1. Open Cursor Settings by navigating to **File > Preferences > Cursor Settings** or by using the command palette.
    2. Select the **MCP** option in the settings.
    3. Click on the **"+ Add New MCP Server"** button.
    4. Provide the configuration details. You can set the `Type` to `stdio` and the `Command` to `genkit mcp`. Remember to specify the correct `cwd` if your Genkit project is not in the default directory.
    5. Configuration can be stored globally (`~/.cursor/mcp.json`) or locally (project-specific, `.cursor/mcp.json`).

    Once configured, Cursor's AI assistant will automatically invoke the server's tools when needed.

  </TabItem>

  <TabItem label="Claude Code">
    Claude Code functions as both an MCP server and client and can connect to external tools via MCP.

    To add the Genkit MCP Server to Claude Code:

    1. You can configure MCP servers in Claude Code through:
       - Project configuration (available when running Claude Code in that directory).
       - Global configuration (available in all projects).
       - A checked-in `.mcp.json` file (shared with everyone in the project).

    2. From the command line, use the `claude mcp add` command:

       ```bash
       claude mcp add --transport stdio genkit genkit mcp --cwd <path/to/your/genkit/project> --scope <scope>
       ```

       - Replace `<path/to/your/genkit/project>` with the actual path to your Genkit project.
       - Choose a `<scope>`: `local` (default, only available to you in the current project), `project` (shared with everyone via `.mcp.json`), or `user` (available to you across all projects).

    Claude Code will then be able to leverage Genkit's functionalities.

  </TabItem>

  <TabItem label="Windsurf">
    Windsurf, an AI-enhanced IDE built on VS Code, also supports MCP servers to extend its capabilities.

    To set up the Genkit MCP Server in Windsurf:

    1. Open Windsurf Settings by clicking the **Windsurf - Settings** button (bottom right) or by hitting `Cmd+Shift+P` (Mac) / `Ctrl+Shift+P` (Windows/Linux) and searching for "Open Windsurf Settings".
    2. Navigate to the **Cascade** section in **Advanced Settings** and look for the **MCP** option to enable it.
    3. You can add a new MCP server directly through the settings UI or by manually editing the `~/.codeium/windsurf/mcp_config.json` file.
    4. Provide the `stdio` transport command: `genkit mcp`. Ensure the working directory (`cwd`) is correctly set to your Genkit project.

    After configuration, Windsurf's AI assistant (Cascade) can interact with your Genkit components.

  </TabItem>

  <TabItem label="Cline">
    Cline, an AI assistant for your CLI and Editor, can also extend its capabilities through custom MCP tools.

    To configure the Genkit MCP Server in Cline:

    1. Click the **"MCP Servers"** icon in the top navigation bar of the Cline pane.
    2. Select the **"Installed"** tab.
    3. Click the **"Configure MCP Servers"** button at the bottom of the pane.
    4. You can then add a new server configuration using JSON. An example configuration would be:

       ```json
       {
         "mcpServers": {
           "genkit": {
             "command": "genkit",
             "args": ["mcp"],
             "cwd": "",
             "timeout": 30000,
             "trust": false
           }
         }
       }
       ```

       The settings for all installed MCP servers are located in the `cline_mcp_settings.json` file.

    5. Alternatively, you can ask Cline directly to "add a tool" and it can guide you through creating and installing a new MCP server.

    Once configured, Cline will automatically detect and leverage the tools provided by the Genkit MCP Server.

  </TabItem>
</Tabs>

## Using the MCP Server

Once configured, your MCP-aware tool can interact with the Genkit MCP Server. Here are some of the available operations:


### Get Genkit Usage guide

You can use the `get_usage_guide` tool to fetch a usage guide for the Genkit AI framework. You can specify a language for the guide. The usage guide includes best practices and recommended project structure and plugins to use. This tool is intended to be used by AI assistants to understand building Genkit apps.

**Example:**
To get the usage guide for the JS SDK:

```
@genkit:get_usage_guide { "language": "js" }
```


### Access Genkit Documentation

You can use the following tools to access the Genkit documentation:

- `list_genkit_docs`: Lists available documentation files.
- `search_genkit_docs`: Searches documentation for specific terms.
- `read_genkit_docs`: Reads the content of specific documentation files.

**Example:**
To list the documentation (filepaths) for the JS SDK:

```
@genkit:list_genkit_docs { "language": "js" }
```

**Example:**
To read the documentation for JS flows:

```
@genkit:read_genkit_docs { "filePaths": ["js/flows.md"] }
```

**Example:**
To search the documentation for streaming flows (using space-separated
keywords). This tool returns filepaths with snippets:

```
@genkit:search_genkit_docs { "query": "stream flow", "language": "js" }
```
### Runtime Management

You can use the following tools to manage the application runtime:

- `start_runtime`: Starts the application runtime to enable flow discovery and execution.
- `kill_runtime`: Stops the runtime process.
- `restart_runtime`: Restarts the runtime process.

**Example:**
To start the runtime for a Node.js project:

```
@genkit:start_runtime { "command": "npm", "args":["run", "dev"] }
```

### List Genkit Flows

The `list_flows` tool allows you to discover all defined Genkit flows in your project and inspect their input schemas.

**Example:**

```
@genkit:list_flows {}
```

This will return a list of flows with their descriptions and input schemas, similar to:

```
- Flow name: recipeGeneratorFlow
  Input schema: {"type":"object","properties":{"ingredient":{"type":"string"},"dietaryRestrictions":{"type":"string"}},"required":["ingredient","dietaryRestrictions"]}
```

### Run Genkit Flows

You can execute a specific Genkit flow using the `run_flow` tool. You'll need to provide the `flowName` and any required `input` as a JSON string conforming to the flow's input schema.

**Example:**
To run a `recipeGeneratorFlow` with specific ingredients and dietary restrictions:

```
@genkit:run_flow { "flowName": "recipeGeneratorFlow", "input": "{\"ingredient\": \"avocado\", \"dietaryRestrictions\": \"vegetarian\"}" }
```

The output will be the result of the flow execution, for example:

```json
{
  "cookTime": "5 minutes",
  "description": "A quick and easy vegetarian recipe featuring creamy avocado.",
  "ingredients": [
    "1 ripe avocado",
    "1/4 cup chopped red onion",
    "1/4 cup chopped cilantro",
    "1 tablespoon lime juice",
    "1/4 teaspoon salt",
    "1/4 teaspoon black pepper"
  ],
  "instructions": [
    "Halve the avocado and remove the pit.",
    "Scoop the avocado flesh into a bowl.",
    "Add the red onion, cilantro, lime juice, salt, and pepper.",
    "Mash everything together with a fork until it is mostly smooth but still has some chunks.",
    "Stir in the red onion, cilantro, lime juice, salt, and pepper.",
    "Serve immediately with tortilla chips or as a topping for tacos or salads."
  ],
  "prepTime": "5 minutes",
  "servings": 1,
  "title": "Simple Avocado Mash",
  "tips": [
    "For a spicier dish, add a pinch of cayenne pepper.",
    "If you don't have fresh cilantro, you can use parsley instead."
  ]
}
```

### Get Trace Details

After running a flow, you can retrieve its detailed execution trace using the `get_trace` tool and the `traceId` returned from the flow execution.

**Example:**

```
@genkit:get_trace { "traceId": "ecf38e20f418b2964f7ab472b799" }
```

The output will provide a breakdown of the trace, including details about each span, such as input, output, and execution time.

## Local Development and Documentation Bundle

The Genkit MCP Server includes a pre-built documentation bundle. If you need to update this bundle or work with custom documentation, the server can download and serve an experimental bundle from `http://genkit.dev/docs-bundle-experimental.json`.

The documentation bundle is stored locally in `~/.genkit/docs/<version>/bundle.json`.
