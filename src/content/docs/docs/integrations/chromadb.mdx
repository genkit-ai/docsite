---
title: ChromaDB Vector Database
description: Learn how to use ChromaDB with Genkit for vector storage, semantic search, and RAG applications.
---

import LanguageSelector from '../../../../components/LanguageSelector.astro';
import CopyMarkdownButton from '../../../../components/CopyMarkdownButton.astro';
import LanguageContent from '../../../../components/LanguageContent.astro';

<div style="display: flex; justify-content: space-between; align-items: center; gap: 1rem; margin: 1rem 0 1rem 0;">
  <LanguageSelector />
  <CopyMarkdownButton />
</div>

<LanguageContent lang="go">

:::note[Feature unavailable for Go]
ChromaDB integration is not currently available for Go. Please use JavaScript for ChromaDB vector database functionality.
:::

</LanguageContent>

<LanguageContent lang="python">

:::note[Feature unavailable for Python]
ChromaDB integration is not currently available for Python. Please use JavaScript for ChromaDB vector database functionality.
:::

</LanguageContent>

<LanguageContent lang="js">

The Chroma plugin provides indexer and retriever implementations that use the
[Chroma](https://docs.trychroma.com/) vector database in client/server mode.

ChromaDB is an open-source vector database designed for AI applications. It provides efficient vector storage, similarity search, and metadata filtering capabilities. ChromaDB can run in-memory, as a standalone server, or in client/server mode, making it flexible for both development and production use.

## Installation

```bash
npm install genkitx-chromadb
```

## Configuration

To use this plugin, specify it when you initialize Genkit:

```ts
import { genkit } from 'genkit';
import { chroma } from 'genkitx-chromadb';
import { googleAI } from '@genkit-ai/googleai';

const ai = genkit({
  plugins: [
    chroma([
      {
        collectionName: 'bob_collection',
        embedder: googleAI.embedder('gemini-embedding-001'),
      },
    ]),
  ],
});
```

You must specify a Chroma collection and the embedding model you want to use. In
addition, there are two optional parameters:

- `clientParams`: If you're not running your Chroma server on the same machine as your Genkit flow, you need to specify auth options, or you're otherwise not running a default Chroma server configuration, you can specify a Chroma [`ChromaClientParams` object](https://docs.trychroma.com/js_reference/Client) to pass to the Chroma client:

  ```ts
  clientParams: {
    path: "http://192.168.10.42:8000",
  }
  ```

- `embedderOptions`: Use this parameter to pass options to the embedder:

  ```ts
  embedderOptions: { taskType: 'RETRIEVAL_DOCUMENT' },
  ```

## Usage

Import retriever and indexer references like so:

```ts
import { chromaRetrieverRef } from 'genkitx-chromadb';
import { chromaIndexerRef } from 'genkitx-chromadb';
```

Then, use the references with `ai.retrieve()` and `ai.index()`:

```ts
// To use the index you configured when you loaded the plugin:
let docs = await ai.retrieve({ retriever: chromaRetrieverRef, query });

// To specify an index:
export const bobFactsRetriever = chromaRetrieverRef({
  collectionName: 'bob-facts',
});
docs = await ai.retrieve({ retriever: bobFactsRetriever, query });
```

```ts
// To use the index you configured when you loaded the plugin:
await ai.index({ indexer: chromaIndexerRef, documents });

// To specify an index:
export const bobFactsIndexer = chromaIndexerRef({
  collectionName: 'bob-facts',
});
await ai.index({ indexer: bobFactsIndexer, documents });
```

See the [Retrieval-augmented generation](/docs/rag) page for a general
discussion on indexers and retrievers.

</LanguageContent>
