---
title: DeepSeek Plugin
description: Learn how to configure and use Genkit DeepSeek plugin to access DeepSeek models in JavaScript and Go.
---

import LanguageSelector from '../../../../components/LanguageSelector.astro';
import CopyMarkdownButton from '../../../../components/CopyMarkdownButton.astro';
import LanguageContent from '../../../../components/LanguageContent.astro';

<div style="display: flex; justify-content: space-between; align-items: center; gap: 1rem; margin: 1rem 0 1rem 0;">
  <LanguageSelector supportedLanguages="js go" />
  <CopyMarkdownButton />
</div>

<LanguageContent lang="go">
The DeepSeek plugin provides access to DeepSeek models through OpenAI-compatible endpoints in Go.

## Configuration
```go
import "github.com/firebase/genkit/go/plugins/compat_oai/deepseek"
```
```go
g := genkit.Init(context.Background(), genkit.WithPlugins(&deepseek.DeepSeek{
    Opts: []option.RequestOption{
        option.WithAPIKey("DEEPSEEK_API_KEY"),
    },
}))
```
You must provide an API key from DeepSeek. You can get an API key from the [DeepSeek Platform](https://platform.deepseek.com/sign_in)

## Supported Models
- `deepseek-chat`
- `deepseek-reasoner`

More information about the supported models and its capabilities can be found in the [DeepSeek API docs](https://api-docs.deepseek.com/quick_start/pricing)

## Usage Example
```go
import (
	"context"
	"math"

	"github.com/firebase/genkit/go/ai"
	"github.com/firebase/genkit/go/genkit"
	oai_deepseek "github.com/firebase/genkit/go/plugins/compat_oai/deepseek"
	"github.com/openai/openai-go"
)

func main() {
	ctx := context.Background()

	// DEEPSEEK_API_KEY and DEEPSEEK_BASE_URL environment values will be read automatically unless
	// they are provided via `option.RequestOption{}`
	g := genkit.Init(ctx,
		genkit.WithPlugins(&oai_deepseek.DeepSeek{}),
		genkit.WithDefaultModel("deepseek/deepseek-chat"))

	// Define a tool for calculating gablorkens
	gablorkenTool := genkit.DefineTool(g, "gablorken", "use when need to calculate a gablorken",
		func(ctx *ai.ToolContext, input struct {
			Value float64
			Over  float64
		},
		) (float64, error) {
			return math.Pow(input.Value, input.Over), nil
		},
	)

	genkit.DefineStreamingFlow(g, "streaming tool", func(ctx context.Context, input any, cb ai.ModelStreamCallback) (string, error) {
		config := &openai.ChatCompletionNewParams{
      Temperature: openai.Float(0.5),
    }
		resp, err := genkit.Generate(ctx,
			g,
			ai.WithPrompt("calculate the gablorken of value 3 over 5"),
			ai.WithTools(gablorkenTool),
			ai.WithStreaming(cb),
			ai.WithConfig(config))
		if err != nil {
			return "", err
		}
		return resp.Text(), nil
	})

	<-ctx.Done()
}
```
</LanguageContent>

<LanguageContent lang="python">
  :::note[Feature unavailable for Python]
The DeepSeek plugin has not yet been made available for Python.
:::
</LanguageContent>

<LanguageContent lang="js">

The `@genkit-ai/compat-oai` package includes a pre-configured plugin for [DeepSeek](https://www.deepseek.com/) models.

:::note
The DeepSeek plugin is built on top of the `openAICompatible` plugin. It is pre-configured for DeepSeek's API endpoints, so you don't need to provide a `baseURL`.
:::

## Installation

```bash
npm install @genkit-ai/compat-oai
```

## Configuration

To use this plugin, import `deepSeek` and specify it when you initialize Genkit.

```ts
import { genkit } from 'genkit';
import { deepSeek } from '@genkit-ai/compat-oai/deepseek';

export const ai = genkit({
  plugins: [deepSeek()],
});
```

You must provide an API key from DeepSeek. You can get an API key from your [DeepSeek account settings](https://platform.deepseek.com/).

Configure the plugin to use your API key by doing one of the following:

- Set the `DEEPSEEK_API_KEY` environment variable to your API key.
- Specify the API key when you initialize the plugin:

  ```ts
  deepSeek({ apiKey: yourKey });
  ```

As always, avoid embedding API keys directly in your code.

## Usage

Use the `deepSeek.model()` helper to reference a DeepSeek model.

```ts
import { genkit, z } from 'genkit';
import { deepSeek } from '@genkit-ai/compat-oai/deepseek';

const ai = genkit({
  plugins: [deepSeek({ apiKey: process.env.DEEPSEEK_API_KEY })],
});

export const deepseekFlow = ai.defineFlow(
  {
    name: 'deepseekFlow',
    inputSchema: z.object({ subject: z.string() }),
    outputSchema: z.object({ information: z.string() }),
  },
  async ({ subject }) => {
    // Reference a model
    const deepseekChat = deepSeek.model('deepseek-chat');

    // Use it in a generate call
    const llmResponse = await ai.generate({
      model: deepseekChat,
      prompt: `Tell me something about ${subject}.`,
    });

    return { information: llmResponse.text };
  },
);
```

You can also pass model-specific configuration:

```ts
const llmResponse = await ai.generate({
  model: deepSeek.model('deepseek-chat'),
  prompt: 'Tell me something about deep learning.',
  config: {
    temperature: 0.8,
    maxTokens: 1024,
  },
});
```

## Advanced usage

### Passthrough configuration

You can pass configuration options that are not defined in the plugin's custom config schema. This
permits you to access new models and features without having to update your Genkit version.

```ts
import { genkit } from 'genkit';
import { deepSeek } from '@genkit-ai/compat-oai/deepseek';

const ai = genkit({
  plugins: [deepSeek()],
});

const llmResponse = await ai.generate({
  prompt: `Tell me a cool story`,
  model: deepSeek.model('deepseek-new'), // hypothetical new model
  config: {
    new_feature_parameter: ... // hypothetical config needed for new model
  },
});
```

Genkit passes this configuration as-is to the DeepSeek API giving you access to the new model features.
Note that the field name and types are not validated by Genkit and should match the DeepSeek API
specification to work.

</LanguageContent>
