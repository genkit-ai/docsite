---
title: Chat with a PDF file
description: Learn how to build a conversational application that allows users to extract information from PDF documents using natural language across JavaScript, Go, and Python.
---

import LanguageSelector from '../../../../components/LanguageSelector.astro';
import LanguageContent from '../../../../components/LanguageContent.astro';
import CopyMarkdownButton from '../../../../components/CopyMarkdownButton.astro';

<div style="display: flex; justify-content: space-between; align-items: center; gap: 1rem; margin: 1rem 0 1rem 0;">
  <LanguageSelector />
  <CopyMarkdownButton />
</div>

This tutorial demonstrates how to build a conversational application that allows users to extract information from PDF documents using natural language.

## What you'll build

By the end of this tutorial, you'll have a command-line application that:
- Loads and parses PDF files
- Allows users to ask questions about the PDF content
- Provides conversational responses based on the document

## Prerequisites

<LanguageContent lang="js">
- [Node.js v20+](https://nodejs.org/en/download)
- [npm](https://docs.npmjs.com/downloading-and-installing-node-js-and-npm)
</LanguageContent>

<LanguageContent lang="go">
- [Go 1.24+](https://go.dev/doc/install)
</LanguageContent>

<LanguageContent lang="python">
- [Python 3.10+](https://www.python.org/downloads/)
</LanguageContent>

## Step 1: Set up your project

<LanguageContent lang="js">
Create a directory structure and initialize your TypeScript project:

```bash
mkdir -p chat-with-a-pdf/src && \
cd chat-with-a-pdf && \
touch src/index.ts
```

Initialize a new TypeScript project:

```bash
npm init -y
```

Install the required dependencies:

```bash
npm install pdf-parse && npm install --save-dev @types/pdf-parse
npm install genkit @genkit-ai/googleai
```

- `pdf-parse` - Library for parsing PDF files
- `genkit` - Genkit core capabilities
- `@genkit-ai/googleai` - Access to Google AI Gemini models
</LanguageContent>

<LanguageContent lang="go">
Create a new Go project:

```bash
mkdir chat-with-a-pdf && cd chat-with-a-pdf
go mod init chat-with-a-pdf
```

Install the required dependencies:

```bash
go get github.com/firebase/genkit/go
go get github.com/ledongthuc/pdf
```

Create your main file:

```bash
touch main.go
```
</LanguageContent>

<LanguageContent lang="python">
Create a new Python project:

```bash
mkdir chat-with-a-pdf && cd chat-with-a-pdf
```

(Recommended) Create and activate a virtual environment:

```bash
python3 -m venv .
source bin/activate  # for bash
```

Install the required dependencies:

```bash
pip install genkit genkit-plugin-google-genai PyPDF2
```

Create your main file:

```bash
touch main.py
```
</LanguageContent>

## Step 2: Configure your API key

To use the Gemini API, you'll need an API key. If you don't have one, [create a key](https://makersuite.google.com/app/apikey) in Google AI Studio.

Set the `GEMINI_API_KEY` environment variable:

```bash
export GEMINI_API_KEY=<your API key>
```

:::note
Genkit supports many model providers including Vertex AI, Anthropic, OpenAI, and Ollama. See [AI providers](/docs/plugins/overview) for more options.
:::

## Step 3: Import dependencies and configure Genkit

<LanguageContent lang="js">
In your `src/index.ts` file, add the following imports and configuration:

```typescript
import { googleAI } from '@genkit-ai/googleai';
import { genkit } from 'genkit/beta'; // chat is a beta feature
import pdf from 'pdf-parse';
import fs from 'fs';
import { createInterface } from 'node:readline/promises';

const ai = genkit({
  plugins: [googleAI()],
  model: googleAI.model('gemini-2.5-flash'),
});
```
</LanguageContent>

<LanguageContent lang="go">
In your `main.go` file, add the following imports and configuration:

```go
package main

import (
    "bufio"
    "context"
    "fmt"
    "log"
    "os"
    "strings"

    "github.com/firebase/genkit/go/ai"
    "github.com/firebase/genkit/go/genkit"
    "github.com/firebase/genkit/go/plugins/googlegenai"
    "github.com/ledongthuc/pdf"
)

func main() {
    ctx := context.Background()

    // Initialize Genkit
    g, err := genkit.Init(ctx,
        genkit.WithPlugins(&googlegenai.GoogleAI{}),
        genkit.WithDefaultModel("googleai/gemini-2.5-flash"),
    )
    if err != nil {
        log.Fatalf("could not initialize Genkit: %v", err)
    }
    
    // Implementation continues...
}
```
</LanguageContent>

<LanguageContent lang="python">
In your `main.py` file, add the following imports and configuration:

```python
import sys
import PyPDF2
from genkit.ai import Genkit
from genkit.plugins.google_genai import GoogleAI

# Initialize Genkit
ai = Genkit(
    plugins=[GoogleAI()],
    model='googleai/gemini-2.5-flash',
)
```
</LanguageContent>

## Step 4: Load and parse the PDF

<LanguageContent lang="js">
Add the main function with PDF loading logic:

```typescript
(async () => {
  try {
    // Get command line arguments
    const filename = process.argv[2];
    if (!filename) {
      console.error('Please provide a filename as a command line argument.');
      process.exit(1);
    }

    // Load PDF file
    let dataBuffer = fs.readFileSync(filename);
    const { text } = await pdf(dataBuffer);

    // Set up the prompt
    const prefix = process.argv[3] || "Answer the user's questions about the contents of this PDF file.";
    const prompt = `
      ${prefix}
      Context:
      ${text}
    `;

    // Start chat
    const chat = ai.chat({ system: prompt });
    const readline = createInterface(process.stdin, process.stdout);
    console.log("You're chatting with Gemini about the PDF. Ctrl-C to quit.\n");

    // Chat loop
    while (true) {
      const userInput = await readline.question('> ');
      const { text } = await chat.send(userInput);
      console.log(text);
    }
  } catch (error) {
    console.error('Error parsing PDF or interacting with Genkit:', error);
  }
})();
```
</LanguageContent>

<LanguageContent lang="go">
Continue implementing the main function:

```go
func main() {
    // ... (previous initialization code)

    // Get command line arguments
    if len(os.Args) < 2 {
        log.Fatal("Please provide a PDF filename as a command line argument.")
    }
    filename := os.Args[1]

    // Load and parse PDF
    content, err := readPDF(filename)
    if err != nil {
        log.Fatalf("Error reading PDF: %v", err)
    }

    // Set up the prompt
    prefix := "Answer the user's questions about the contents of this PDF file."
    if len(os.Args) > 2 {
        prefix = os.Args[2]
    }
    
    systemPrompt := fmt.Sprintf(`%s
Context:
%s`, prefix, content)

    // Start chat session
    session := ai.NewChatSession(ctx, g, ai.WithSystemPrompt(systemPrompt))
    
    scanner := bufio.NewScanner(os.Stdin)
    fmt.Println("You're chatting with Gemini about the PDF. Ctrl-C to quit.\n")

    // Chat loop
    for {
        fmt.Print("> ")
        if !scanner.Scan() {
            break
        }
        
        userInput := scanner.Text()
        if userInput == "" {
            continue
        }

        resp, err := session.Send(ctx, userInput)
        if err != nil {
            log.Printf("Error: %v", err)
            continue
        }

        fmt.Println(resp.Text())
    }
}

func readPDF(filename string) (string, error) {
    file, reader, err := pdf.Open(filename)
    if err != nil {
        return "", err
    }
    defer file.Close()

    var content strings.Builder
    for i := 1; i <= reader.NumPage(); i++ {
        page := reader.Page(i)
        if page.V.IsNull() {
            continue
        }
        
        text, err := page.GetPlainText()
        if err != nil {
            continue
        }
        content.WriteString(text)
    }

    return content.String(), nil
}
```
</LanguageContent>

<LanguageContent lang="python">
Add the main implementation:

```python
def read_pdf(filename):
    """Extract text from PDF file."""
    with open(filename, 'rb') as file:
        reader = PyPDF2.PdfReader(file)
        text = ""
        for page in reader.pages:
            text += page.extract_text()
    return text

async def main():
    # Get command line arguments
    if len(sys.argv) < 2:
        print("Please provide a PDF filename as a command line argument.")
        sys.exit(1)
    
    filename = sys.argv[1]
    
    try:
        # Load and parse PDF
        pdf_text = read_pdf(filename)
        
        # Set up the prompt
        prefix = sys.argv[2] if len(sys.argv) > 2 else "Answer the user's questions about the contents of this PDF file."
        system_prompt = f"""
        {prefix}
        Context:
        {pdf_text}
        """
        
        # Start chat session
        chat = ai.chat(system=system_prompt)
        print("You're chatting with Gemini about the PDF. Ctrl-C to quit.\n")
        
        # Chat loop
        while True:
            user_input = input("> ")
            if not user_input.strip():
                continue
                
            response = await chat.send(user_input)
            print(response.text)
            
    except Exception as error:
        print(f"Error parsing PDF or interacting with Genkit: {error}")

# Run the application
ai.run_main(main())
```
</LanguageContent>

## Step 5: Run your application

<LanguageContent lang="js">
Run your application with a PDF file:

```bash
npx tsx src/index.ts path/to/your/document.pdf
```

You can also provide a custom prompt:

```bash
npx tsx src/index.ts path/to/your/document.pdf "Summarize the key points from this document"
```
</LanguageContent>

<LanguageContent lang="go">
Run your application with a PDF file:

```bash
go run main.go path/to/your/document.pdf
```

You can also provide a custom prompt:

```bash
go run main.go path/to/your/document.pdf "Summarize the key points from this document"
```
</LanguageContent>

<LanguageContent lang="python">
Run your application with a PDF file:

```bash
python main.py path/to/your/document.pdf
```

You can also provide a custom prompt:

```bash
python main.py path/to/your/document.pdf "Summarize the key points from this document"
```
</LanguageContent>

## What you learned

In this tutorial, you built a conversational PDF chat application that demonstrates:

- **Document processing**: Loading and parsing PDF files
- **Chat sessions**: Creating persistent conversations with context
- **System prompts**: Providing context and instructions to the AI model
- **Command-line interfaces**: Building interactive applications

## Next steps

- Learn about [RAG (Retrieval-Augmented Generation)](/docs/rag) for more sophisticated document processing
- Explore [tool calling](/docs/tool-calling) to add external capabilities
- Try [different AI providers](/docs/plugins/overview) for varied model capabilities
- Build a web interface using [framework integrations](/docs/frameworks/express)
