---
import Navigation from "../components/Navigation.astro";
import Hero from "../components/landing/Hero.astro";
import LanguageSelector from "../components/landing/LanguageSelector.astro";

import Examples from "../components/landing/Examples.astro";
import Section from "../components/Section.astro";
import Button from "../components/Button.astro";


import Link from "../components/Link.astro";
import StepList from "../components/StepList.astro";
import Icon from "../components/Icon.astro";
import { hero, languageSelector, developerTools, exampleShowcase, resourceCards, finalCta, features } from "../data/landing.ts";
import "../tailwind.css";

// Inline layout and icon tokens
const layout = {
  resources: "grid md:grid-cols-2 gap-6"
};

const icon = {
  sm: "w-4 h-4",
  xl: "w-20 h-20"
};



const title = "Genkit";
const description = "One framework for building, debugging, and deploying AI-powered apps";
---

<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="description" content={description}>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Genkit - One framework for building, debugging, and deploying AI-powered apps</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico">
  <link rel="sitemap" href="/sitemap-index.xml" />
  
  <!-- Google Fonts -->
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Google+Sans:wght@400;500;600;700&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Google+Sans+Text:wght@400;500&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Google+Sans+Mono:wght@400;500&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Google+Symbols&display=block" rel="stylesheet">
</head>

<body class="relative text-white min-h-screen font-sans" style="background-color: #0d0d0f;">
  
  <!-- Simple Background -->
  <div class="pointer-events-none absolute inset-0 bg-gradient-to-br from-purple-500/10 via-transparent to-white/5">
  </div>
  
  <Navigation />
  
  <Hero {...hero} />

  <!-- Genkit in your language -->
  <LanguageSelector 
    languages={languageSelector.languages}
    codeExamples={languageSelector.codeExamples}
    title={languageSelector.title}
    subtitle={languageSelector.subtitle}
    ctaText={languageSelector.ctaText}
    ctaHref={languageSelector.ctaHref}
  />

  <!-- Simplified AI Integration -->
  <Section class="text-center">
    <h1 class="section-title mb-4">Simplified AI Integration</h1>
    <p class="caption text-muted mb-8">The fastest way to build, test, and deploy real AI<br /> features into your apps.</p>

    <Button variant="primary" size="md" class="rounded-3xl" href="https://github.com/genkit-ai/genkit-by-example">
      See Example Apps
    </Button>
    
    <!-- Feature Cards -->
    <Section>
      <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
        {features.map((feature) => (
          <div class="bg-gradient-to-r from-gray-400/10 to-gray-300/8 backdrop-blur-sm rounded-2xl p-6 group hover:border-primary/40 hover:shadow-xl transition text-left border-2 border-gray-700/30" style="border-width: 0.5px;">
            <div class="mb-4 w-full text-primary">
              {feature.iconSrc && <img src={feature.iconSrc} alt={feature.title} class="w-full h-auto" />}
            </div>
            <h3 class="card-title text-muted mb-2">{feature.title}</h3>
            <p class="card-text text-muted mb-4">{feature.body}</p>
            {feature.href && (
              <Link variant="card" href={feature.href}>
                Learn more â†’
              </Link>
            )}
          </div>
        ))}
      </div>
    </Section>
  </Section>

  <!-- Built-in developer tools -->
  <Section container="md" class="pt-16 sm:pt-24">
    <div class="text-center mb-12">
      <h1 class="section-title mb-4">{developerTools.title}</h1>
      <div class="max-w-72 mx-auto">
        <p class="caption text-muted text-center">
          {developerTools.subtitle}
        </p>
      </div>
    </div>
    
    <div class="relative">
      <!-- Mobile: Stack vertically, Desktop: Overlay -->
      <div class="block md:hidden mb-8">
        <img src={developerTools.image} alt="Genkit Developer UI showing flows and debugging interface" class="w-full h-auto rounded-xl shadow-2xl border-[0.5px] border-[#828387]" />
      </div>
      
      <!-- Background UI Image - Desktop only -->
      <div class="hidden md:block absolute right-0 top-0 w-[70%] h-full transform translate-x-8">
        <img src={developerTools.image} alt="Genkit Developer UI showing flows and debugging interface" class="w-full h-auto rounded-xl shadow-2xl border-[0.5px] border-[#828387]" />
      </div>
      
      <!-- Left-aligned Features using StepList -->
      <div class="relative z-10 w-full md:w-72 py-0 space-y-6">
        <StepList steps={developerTools.steps}/>
        
        <Button variant="secondary" class="rounded-3xl w-full sm:w-auto" href={developerTools.cta.href}>
          {developerTools.cta.text}
        </Button>
      </div>
    </div>
  </Section>

  <!-- Genkit by Example -->
  <Section spacing="large" class="pt-20 sm:pt-36">
    <Examples {...exampleShowcase} />
  </Section>

  <!-- Docs and GitHub Cards -->
  <Section>
    <div class="max-w-2xl mx-auto">
      <div class={layout.resources}>
      {resourceCards.map((card) => (
        <div class="bg-gray-800/60 border-gray-700/50 rounded-2xl p-6 flex items-start space-x-6" style="border-width: 0.5px;">
          <div class="bg-gray-700/60 rounded-2xl p-6 flex-shrink-0">
            <Icon name={card.icon} size={icon.xl} class="text-gray-300" />
          </div>
          <div class="flex-1 flex flex-col">
            <div class="pb-4">
              <h3 class="card-title text-muted mb-2 flex items-center space-x-2">
                <span>{card.title}</span>
                {card.title === 'GitHub' && (
                  <Icon name="github" size={icon.sm} class="text-gray-300" />
                )}
              </h3>
              <p class="card-text text-muted">
                {card.description}
              </p>
            </div>
            <div>
              <Link variant="card" href={card.href}>
                Link
              </Link>
            </div>
          </div>
        </div>
      ))}
      </div>
    </div>
  </Section>

  <!-- Final CTA -->
  <Section spacing="large" container="md" class="text-center">
    <div class="flex items-center justify-center mx-auto mb-8">
      <Icon name="genkit-logo" size={icon.xl} class="text-white" />
    </div>
    <h1 class="page-title mb-6">{finalCta.title}</h1>
    <h3 class="card-title text-muted mb-8">{finalCta.subtitle}</h3>
    <Button variant="primary" size="md" href={finalCta.cta.href}>
      {finalCta.cta.text}
    </Button>
  </Section>

  <!-- Footer -->
  <footer class="border-gray-800 pt-8 sm:pt-12 px-6 pb-6">
    <div class="max-w-4xl mx-auto">
      <!-- Mobile: Stack vertically, Desktop: Side by side -->
      <div class="flex flex-col sm:flex-row sm:justify-between sm:items-center mb-6 sm:mb-8 space-y-4 sm:space-y-0">
        <div class="flex items-center space-x-1">
          <div class="flex items-center justify-center">
            <Icon name="genkit-logo" size={icon.sm} class="text-white" />
          </div>
          <span class="text-white logo-text">Genkit</span>
        </div>
        
        <div class="flex space-x-4 sm:space-x-8">
          <Link variant="footer" href="/docs/get-started">Docs</Link>
          <Link variant="footer" href="https://examples.genkit.dev/">Learn</Link>
        </div>
      </div>
      
      <!-- Bottom Row -->
      <div class="flex flex-col sm:flex-row sm:justify-between sm:items-center space-y-3 sm:space-y-0">
        <h4 class="footer-title text-sm sm:text-base">Google for Developers</h4>
        <div class="flex flex-col sm:flex-row space-y-2 sm:space-y-0 sm:space-x-8">
          <Link variant="footer" href="/terms">Terms of Service</Link>
          <Link variant="footer" href="/privacy">Privacy Policy</Link>
        </div>
      </div>
    </div>
  </footer>
</body>
</html>

