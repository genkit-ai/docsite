---
import { Code } from '@astrojs/starlight/components';

interface Props {
  code: string;
  lang: string;
  title?: string;
  frame?: "code" | "terminal" | "none" | "auto";
  wrap?: boolean;
  theme?: string;
}

const { code, lang, title, frame = "code", wrap = false, theme } = Astro.props;
---

<div class="code-block-wrapper">
  <Code 
    code={code} 
    lang={lang} 
    title={title}
    frame={frame}
    wrap={wrap}
    theme={theme}
  />
</div>

<style>
  .code-block-wrapper {
    /* Custom styling for code blocks */
  }
  
  /* Override Expressive Code styles when frame is disabled */
  .code-block-wrapper :global(.expressive-code:not(.has-title)) {
    border-radius: 0.5rem;
  }
  
  /* Ensure proper font rendering */
  .code-block-wrapper :global(.expressive-code code) {
    font-family: var(--sl-font-mono);
    font-size: 0.875rem;
    line-height: 1.5;
  }
</style>
