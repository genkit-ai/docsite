---
import Button from './Button.astro';
import Link from './Link.astro';

/* 
 * Layout Behavior Explanation:
 * 
 * MOBILE: We need the image to appear BETWEEN the heading and the buttons for better UX:
 * 1. Heading + description (context first)
 * 2. Image (visual example of what we're talking about)  
 * 3. Buttons (call-to-action after seeing the example)
 * 
 * DESKTOP: Standard two-column layout works best:
 * - Left: All content (heading + buttons) in one column
 * - Right: Image takes up remaining space
 * 
 * This requires duplicating the image element with responsive visibility classes
 * rather than using flexbox order alone, since we need the image to appear 
 * in the middle of other content on mobile.
 */
---

<section class="py-12 sm:py-20 px-6 pt-20 sm:pt-36">
  <div class="max-w-6xl mx-auto">
    <!-- Mobile: heading -> image -> buttons (using order utilities)
         Desktop: content left, image right -->
    <div class="flex flex-col md:flex-row md:items-start gap-12">
      <div class="md:w-1/3 md:shrink-0 space-y-8 pt-4">
        <!-- Heading section - always shows first on mobile and desktop -->
        <div class="space-y-6 order-1">
          <h1 class="section-title">
            Genkit by Example
          </h1>
          <p class="caption text-muted">
            See how Genkit works with Firebase, Angular, Next.js and more in production-ready apps, with pre-built demos and code you can reuse.
          </p>
        </div>
        
        <!-- Image section - shows after heading on mobile, hidden on desktop (duplicate) -->
        <div class="md:hidden order-2">
          <div class="rounded-2xl overflow-hidden backdrop-blur-sm example-container">
            <img src="/assets/simple_chatbot.svg" alt="Simple Chatbot Interface" class="w-full h-auto" />
          </div>
        </div>
        
        <!-- Buttons section - shows last on mobile and desktop -->
        <div class="space-y-4 order-3">
          <div class="pb-2">
            <Link variant="card" href="https://examples.genkit.dev/">
              Explore Samples Repository
            </Link>
          </div>
          <Button variant="secondary" href="https://examples.genkit.dev/">
            Launch Genkit by Example
          </Button>
        </div>
      </div>

      <!-- Image section - shows on desktop only, hidden on mobile -->
      <div class="hidden md:block md:flex-1 space-y-4">
        <div class="rounded-2xl overflow-hidden backdrop-blur-sm example-container">
          <img src="/assets/simple_chatbot.svg" alt="Simple Chatbot Interface" class="w-full h-auto" />
        </div>
      </div>
    </div>
  </div>
</section>

<style>
  .example-container {
    background-color: var(--surface-elevated);
    border: 0.5px solid var(--border-primary);
  }
</style>
